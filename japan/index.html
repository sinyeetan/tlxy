<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Let's Skiiii</title>
  <style>
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: #0b1221 url('background.avif') center/cover fixed no-repeat;
      overflow:hidden;
      color:#fff;
    }
    .overlay{position:fixed;inset:0;background:linear-gradient(to bottom,rgba(3,10,20,0.1),rgba(2,8,15,0.2));pointer-events:none}
    canvas#snowCanvas{position:fixed;inset:0;width:100%;height:100%;z-index:2;display:block}
    .ui{position:relative;z-index:3;height:100%;display:flex;flex-direction:column;justify-content:flex-end;padding:36px;pointer-events:none}
    .character{
      width:260px;max-width:28vw;min-width:160px;align-self:flex-end;pointer-events:auto;cursor:pointer;
      transform-origin:center bottom;filter:drop-shadow(0 10px 30px rgba(0,0,0,0.6));
      transition:transform .35s ease;
    }
    .character:hover{transform:translateY(-6px) scale(1.02)}
    .vignette{position:fixed;inset:0;z-index:1;background:radial-gradient(ellipse at 50% 10%,rgba(255,255,255,0.02),rgba(0,0,0,0.2) 40%);pointer-events:none}
    @media (max-width:600px){.character{width:36vw}}

    /* Countdown box with glow */
    .countdown {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 5;
      background: rgba(0,0,0,0.35);
      backdrop-filter: blur(6px);
      padding: 12px 18px;
      border-radius: 10px;
      font-size: 16px;
      color: #e6f0ff;
      box-shadow: 0 0 12px rgba(255,255,255,0.4);
      font-family: Inter, system-ui, sans-serif;
      animation: pulseGlow 2s infinite;
      text-align: center;
    }
    @keyframes pulseGlow {
      0%   { box-shadow: 0 0 12px rgba(255,255,255,0.4); }
      50%  { box-shadow: 0 0 20px rgba(255,255,255,0.8); }
      100% { box-shadow: 0 0 12px rgba(255,255,255,0.4); }
    }
    .countdown-message {
      display: block;
      margin-top: 6px;
      font-size: 14px;
      color: #ffd966; /* warm gold tone */
    }
  </style>
</head>
<body>
  <div class="overlay"></div>
  <div class="vignette"></div>
  <canvas id="snowCanvas"></canvas>

  <!-- Countdown box -->
  <div class="countdown">
    <span id="countdown-text"></span>
    <span class="countdown-message" id="countdown-message">‚ú® ÊàëÂÄëÊù±‰∫¨Ë¶ã ‚ú®</span>
  </div>

  <div class="ui">
    <div class="character">‚ùÑÔ∏è</div>
  </div>

  <script>
    const canvas = document.getElementById('snowCanvas');
    const ctx = canvas.getContext('2d');
    let W = canvas.width = innerWidth;
    let H = canvas.height = innerHeight;

    window.addEventListener('resize', ()=>{
      W = canvas.width = innerWidth;
      H = canvas.height = innerHeight;
    });

    class Snowflake {
      constructor(){ this.reset(true); }
      reset(init=false){
        this.x = Math.random()*W;
        this.y = init ? Math.random()*H : -20 - Math.random()*H*0.2;
        this.size = (Math.random()*3 + 1) * (Math.random()<0.07?2.2:1);
        this.speed = (Math.random()*0.6 + 0.2) * (1 + this.size/3);
        this.opacity = Math.random()*0.6 + 0.25;
        this.phase = Math.random()*Math.PI*2;
        this.drift = Math.random()*0.6 - 0.3;
      }
      update(dt, wind){
        this.y += this.speed * dt;
        this.x += (this.drift + wind*0.2) * dt * (1 + this.size/4);
        this.phase += 0.01 * (0.5 + this.size*0.1);
        this.x += Math.sin(this.phase) * 0.4 * this.size;
        if(this.y > H + 40 || this.x < -80 || this.x > W + 80){ this.reset(false); }
      }
      draw(ctx){
        ctx.save();
        ctx.globalAlpha = this.opacity;
        const grad = ctx.createRadialGradient(this.x, this.y, 0, this.x, this.y, this.size*4);
        grad.addColorStop(0, 'rgba(255,255,255,0.95)');
        grad.addColorStop(0.5, 'rgba(220,235,255,0.55)');
        grad.addColorStop(1, 'rgba(200,220,255,0)');
        ctx.fillStyle = grad;
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.size*2, 0, Math.PI*2);
        ctx.fill();
        ctx.restore();
      }
    }

    const flakes = [];
    const FL_COUNT = Math.min(900, Math.floor(window.innerWidth * window.innerHeight / 8000));
    for(let i=0;i<FL_COUNT;i++) flakes.push(new Snowflake());

    let last = performance.now();
    let wind = 0;
    let targetWind = 0;

    window.addEventListener('mousemove', e=>{
      targetWind = (e.clientX - W/2) / (W/2) * 0.6;
    });

    const char = document.querySelector('.character');
    let gustOn = false;
    char.addEventListener('click', ()=>{
      gustOn = !gustOn;
      targetWind = gustOn ? (Math.random()*1.5 + 0.6)*(Math.random()<0.5?-1:1) : 0;
      char.style.transform = gustOn ? 'translateY(-10px) scale(1.04)' : '';
    });

    function step(now){
      const dt = (now - last) / 16.666; // normalize to ~60fps
      last = now;
      wind += (targetWind - wind) * 0.03; // smooth easing
      ctx.clearRect(0,0,W,H);
      for(let f of flakes){ f.update(dt, wind); f.draw(ctx); }
      requestAnimationFrame(step);
    }
    requestAnimationFrame(step);

    // Countdown logic
    function updateCountdown() {
      const target = new Date("January 1, 2026 08:00:00").getTime();
      const now = new Date().getTime();
      const diff = target - now;

      if (diff <= 0) {
        document.getElementById("countdown-text").textContent = "üéâ Happy New Year 2026!";
        document.getElementById("countdown-message").textContent = "‚ú® ÊàëÂÄëË¶ãÈù¢Âï¶ÔºÅ ‚ú®";
        return;
      }

      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((diff % (1000 * 60)) / 1000);

      document.getElementById("countdown-text").textContent =
        `${days}Â§© ${hours}Â∞èÊôÇ ${minutes}ÂàÜ ${seconds}Áßí`;
    }
    setInterval(updateCountdown, 1000);
    updateCountdown();
  </script>
</body>
</html>
